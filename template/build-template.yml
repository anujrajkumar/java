parameters:
  - name: 'workingDirectory'
    displayName: Java Build
    type: string
    default: ''
  
steps:
- task: Maven@3
  inputs:
     workingDirectory: '${{ parameters.workingDirectory }}'
     mavenPomFile: 'pom.xml'
     mavenOptions: '-Xmx3072m'
     javaHomeOption: 'JDKVersion'
     jdkVersionOption: '1.8'
     jdkArchitectureOption: 'x64'
  
  

- task: CopyFiles@2
  displayName: Copy Files
  inputs:
      SourceFolder: '$(System.DefaultWorkingDirectory)'
      Contents:  '**/*.jar'
      TargetFolder: '$(Build.ArtifactStagingDirectory)'

- task: PublishBuildArtifacts@1
  displayName: Publish Artifact  
  inputs:
      PathtoPublish: '$(Build.ArtifactStagingDirectory)'
      ArtifactName: 'java'
      publishLocation: 'Container'